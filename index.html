<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WuWa Engine.ini Generator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <video autoplay muted loop playsinline id="bg-video">
        <source src="assets/video/MovingBG.mp4" type="video/mp4">
    </video>

    <div id="navbar"></div>

    <main>
        <h1>WuWa Engine.ini Generator</h1>

        <!-- ğŸ”§ Special Toggles -->
        <details data-category="main" id="specialToggles" open>
            <summary>ğŸ”§ Special In-Game Toggles</summary>
            <p>Enable or configure special in-game features with the following toggles:</p>

            <div class="button-row">
                <button id="enableVulkanBtn">Enable Vulkan</button>
                <button id="forceVulkanBtn">Force Vulkan</button>
                <button id="enableFrameGenBtn">Enable Frame Generation</button>
                <button id="unlockUltraQualityBtn">Unlock Ultra-High Quality</button>
                <button id="resetSpecialTogglesBtn">Reset</button>
            </div>

            <h3>Generated Engine.ini (Special Toggles)</h3>
            <pre id="specialTogglesOutput" aria-live="polite"></pre>
        </details>

        <!-- ğŸ® Texture Scaling -->
        <details data-category="main" id="textureScaling" open>
            <summary>ğŸ® Far-Distance Texture Quality Scaling</summary>
            <p>Adjust texture streaming and mipmap detail levels (0 = disabled, 11 = ultra).</p>

            <div class="slider-section">
                <label><b>Quality Scale (0 â€“ 11)</b></label>
                <input id="slider" type="range" min="0" max="11" value="5" />
                <div class="slider-labels"><span>0</span><span>11</span></div>
            </div>

            <div class="button-row">
                <button id="dec">âˆ’ Decrease</button>
                <button id="reset">Reset</button>
                <button id="inc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini Variables:</h3>
            <pre id="output" aria-live="polite"></pre>

            <details>
                <summary>ğŸ§  Technical Footnote â€” Texture Streaming</summary>
                <p>
                    <b>r.Streaming.Boost / MinBoost</b> â€” Adjusts how aggressively textures are streamed to memory.<br>
                    <b>r.Streaming.GroupBoost.*</b> â€” Per-group sharpness multiplier for building/foliage/NPC groups.<br>
                    <b>r.MipMapLODBias</b> â€” Controls mipmap selection bias (negative â‡’ sharper textures).<br>
                    <b>r.Streaming.FullyLoadUsedTextures</b> â€” Forces textures that are in use to load fully (1 = enable).<br>
                </p>
            </details>
        </details>

        <!-- ğŸŒ‘ Shadows Settings -->
        <details data-category="main" id="shadowsSettings">
            <summary>ğŸŒ‘ Shadows Settings</summary>
            <p>Control shadow rendering; select Basic (fewer options) or Advanced (full tuning).</p>

            <div class="button-row">
                <button onclick="setShadowMode('basic')">Basic</button>
                <button onclick="setShadowMode('advanced')">Advanced</button>
            </div>

            <div id="shadowMode" style="margin-top:10px; font-weight:bold;">Current Mode: Advanced</div>

            <div class="slider-section" style="margin-top:8px;">
                <label><b>Shadow Quality Scale (0 â€“ 11)</b></label>
                <input id="shadowSlider" type="range" min="0" max="11" value="5" oninput="updateShadowQuality()" />
                <div class="slider-labels"><span>0</span><span>11</span></div>
            </div>

            <div class="button-row">
                <button id="shadowDec">âˆ’ Decrease</button>
                <button id="shadowReset">Reset</button>
                <button id="shadowInc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini (Shadows)</h3>
            <pre id="shadowOutput" aria-live="polite"></pre>

            <details>
                <summary>ğŸ§  Technical Footnote â€” Shadow Settings</summary>
                <p>
                    <b>r.ShadowQuality</b> â€” Overall shadow quality (0 = off, up to 5 usually).<br>
                    <b>r.Shadow.CSM.MaxCascades</b> â€” Number of cascades (more = smoother farther shadows).<br>
                    <b>r.Shadow.CSM.MaxDistance / FarShadowDistanceOverride</b> â€” How far cascaded shadows are computed.<br>
                    <b>r.Shadow.*Resolution</b> â€” Minimum/maximum shadow map size and per-object resolution controls.<br>
                    <b>r.Shadow.TexelsPerPixel / PCFMaxSamples</b> â€” Filtering density and sample budget for softer shadows.<br>
                    <b>r.ContactShadows / r.CapsuleShadows</b> â€” Add fine-scale and character-specific shadowing for realism.<br>
                    <b>r.DistanceFieldShadowing</b> â€” Distance-field shadows for very large soft shadowing.<br>
                </p>
            </details>
        </details>

        <!-- ğŸ—‘ï¸ Garbage Collection -->
        <details data-category="main" id="garbageCollection">
            <summary>ğŸ—‘ï¸ Garbage Collection Settings</summary>
            <p>Control garbage collection behavior to optimize memory usage and performance.</p>

            <div class="button-row">
                <button id="gcDec">âˆ’ Decrease</button>
                <button id="gcReset">Reset</button>
                <button id="gcInc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini (Garbage Collection)</h3>
            <pre id="gcOutput" aria-live="polite"></pre>

            <details>
                <summary>ğŸ§  Technical Footnote â€” Garbage Collection</summary>
                <p>
                    <b>gc.TimeBetweenPurgingPendingKillObjects</b> â€” Time (in seconds) between purging objects marked for deletion.<br>
                    <b>gc.NumRetriesBeforeForcingGC</b> â€” Number of retries before forcing garbage collection.<br>
                    <b>gc.MinDesiredObjectsPerSubTask</b> â€” Minimum objects per garbage collection subtask.<br>
                    <b>gc.BlueprintClusteringEnabled</b> â€” Enables clustering of blueprints for garbage collection.<br>
                    <b>gc.FlushStreamingOnGC</b> â€” Flushes streaming data during garbage collection.<br>
                    <b>gc.ValidateGCHeap</b> â€” Validates the garbage collection heap.<br>
                    <b>gc.StallCollectionWhileWaiting</b> â€” Stalls garbage collection while waiting for resources.<br>
                    <b>gc.RandomFrequency</b> â€” Frequency of random garbage collection.<br>
                    <b>gc.MaxObjectsNotConsideredByGC</b> â€” Maximum objects ignored by garbage collection.<br>
                    <b>gc.AllowInitialGarbageCollection</b> â€” Allows garbage collection at startup.<br>
                    <b>gc.CollectGarbageEveryFrame</b> â€” Forces garbage collection every frame.<br>
                    <b>gc.ForceGCAtRegularInterval</b> â€” Forces garbage collection at regular intervals.<br>
                    <b>gc.MinGCClusterSize</b> â€” Minimum size of garbage collection clusters.<br>
                    <b>gc.MaxGCClusterSize</b> â€” Maximum size of garbage collection clusters.<br>
                    <b>gc.VerifyUObjectsAreNotFGCObjects</b> â€” Verifies that UObjects are not flagged for garbage collection.<br>
                    <b>gc.DisableAutomaticGC</b> â€” Disables automatic garbage collection.<br>
                </p>
            </details>
        </details>

        <!-- ğŸ§­ Toolbar -->
        <div class="utility-buttons" role="toolbar" aria-label="Utilities">
            <button onclick="collapseAll()">Collapse All</button>
            <button onclick="expandAll()">Expand All</button>
            <button onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to Top</button>
        </div>

        <!-- ğŸ—‚ï¸ Checklist -->
        <div id="engineIniContents" class="draggable">
            <h3>Engine.ini Contents</h3>
            <ul>
                <li><label><a href="#specialToggles">ğŸ”§ Special Toggles</a><input type="checkbox" id="includeSpecialToggles" checked></label></li>
                <li><label><a href="#textureScaling">ğŸ® Texture Scaling</a><input type="checkbox" id="includeTextureScaling" checked></label></li>
                <li><label><a href="#shadowsSettings">ğŸŒ‘ Shadows</a><input type="checkbox" id="includeShadows" checked></label></li>
                <li><label><a href="#garbageCollection">ğŸ—‘ï¸ Garbage Collection</a><input type="checkbox" id="includeGarbageCollection" checked></label></li>
            </ul>
            <div class="button-row">
                <button id="selectAllBtn">Select All</button>
                <button id="resetChecklistBtn">Reset</button>
            </div>
            <hr class="separator" />
            <h4 class="mini-title">File Generation</h4>
            <div class="button-row">
                <button id="resetBtn">ğŸ§¹ Reset All Configs</button>
                <button id="generateBtn">âš™ï¸ Generate Engine.ini</button>
            </div>
        </div>

        <footer>Made by Arglax (GPT-assisted)</footer>
    </main>

    <script src="js/scripts.js"></script>
</body>
</html>
